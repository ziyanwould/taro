<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>React Native 端开发流程 · Taro</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;blockquote&gt;
&lt;p&gt;本篇主要讲解 Taro React Native 端 环境安装-开发-调试-打包-发布 原理及流程，React Native 开发前注意事项请看 &lt;a href=&quot;https://nervjs.github.io/taro/docs/before-dev-remind.html&quot;&gt;开发前注意&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="React Native 端开发流程 · Taro"/><meta property="og:type" content="website"/><meta property="og:url" content="https://taro.aotu.io/taro/index.html"/><meta property="og:description" content="&lt;blockquote&gt;
&lt;p&gt;本篇主要讲解 Taro React Native 端 环境安装-开发-调试-打包-发布 原理及流程，React Native 开发前注意事项请看 &lt;a href=&quot;https://nervjs.github.io/taro/docs/before-dev-remind.html&quot;&gt;开发前注意&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
"/><meta property="og:image" content="https://taro.aotu.io/taro/img/logo-taro.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://taro.aotu.io/taro/img/logo-taro.png"/><link rel="shortcut icon" href="/taro/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow-night.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://jdc.jd.com/demo/talenttest/js/url.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><link rel="stylesheet" href="/taro/css/prism.css"/><link rel="stylesheet" href="/taro/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/taro/"><img class="logo" src="/taro/img/logo-taro.png" alt="Taro"/><h2 class="headerTitleWithLogo">Taro</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/taro/docs/README.html" target="_self">文档</a></li><li class=""><a href="/taro/docs/components-desc.html" target="_self">组件库</a></li><li class=""><a href="/taro/docs/api-desc.html" target="_self">API</a></li><li class=""><a href="https://github.com/NervJS/taro" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>教程</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">关于Taro</h3><ul><li class="navListItem"><a class="navItem" href="/taro/docs/README.html">Taro 介绍</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/team.html">Taro 团队</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">快速开始</h3><ul><li class="navListItem"><a class="navItem" href="/taro/docs/GETTING-STARTED.html">安装及使用</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/composition.html">Taro 组成</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/before-dev-remind.html">开发前注意</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/specials.html">特殊问题的处理</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">教程</h3><ul><li class="navListItem"><a class="navItem" href="/taro/docs/spec-for-taro.html">Taro 规范</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/tutorial.html">框架</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/project-config.html">项目配置</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/router.html">路由功能</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/size.html">设计稿及尺寸单位</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/static-reference.html">静态资源引用</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/component-style.html">组件的外部样式和全局样式</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/jsx.html">JSX 简介</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/props.html">组件化 &amp; Props</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/state.html">生命周期 &amp; State</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/event.html">事件处理</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/condition.html">条件渲染</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/list.html">列表渲染</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/children.html">Children 与组合</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/ref.html">Refs 引用</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/envs.html">跨平台开发</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/relations.html">小程序原生作用域获取</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/taro/docs/react-native.html">React Native 端开发流程</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/ui-lib.html">基于 Taro 开发第三方多端 UI 库</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/taroize.html">微信小程序转 Taro</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/best-practice.html">最佳实践</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/debug.html">Debug 指南</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">进阶指南</h3><ul><li class="navListItem"><a class="navItem" href="/taro/docs/config.html">编译配置</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/config-detail.html">编译配置详情</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/async-await.html">异步编程</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/redux.html">使用 Redux</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/mobx.html">使用 Mobx</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/mini-third-party.html">使用小程序原生第三方组件和插件</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/hybrid.html">Taro 代码与小程序代码混写</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/css-modules.html">CSS Modules 的使用</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/CONTRIBUTING.html">CONTRIBUTING</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/nervjs/taro/edit/master/docs/react-native.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">React Native 端开发流程</h1></header><article><div><span><blockquote>
<p>本篇主要讲解 Taro React Native 端 环境安装-开发-调试-打包-发布 原理及流程，React Native 开发前注意事项请看 <a href="https://nervjs.github.io/taro/docs/before-dev-remind.html">开发前注意</a></p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="简介"></a><a href="#简介" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>简介</h2>
<p>Taro RN 端的开发基于开源项目 <a href="https://expo.io/">Expo</a>，类似于 <a href="https://github.com/react-community/create-react-native-app">create-react-native-app</a>。</p>
<h3><a class="anchor" aria-hidden="true" id="expo-简介"></a><a href="#expo-简介" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Expo 简介</h3>
<blockquote>
<p>Expo is a set of tools, libraries and services which let you build native iOS and Android apps by writing JavaScript.</p>
</blockquote>
<p>Expo 是一组工具，库和服务，基于 React Native 可让您通过编写 JavaScript 来构建原生 iOS 和 Android 应用程序。</p>
<p>Expo 应用程序是包含 Expo SDK 的 React Native 应用程序。 SDK 是一个 native-and-JS 库，可以访问设备的系统功能（如相机，联系人，本地存储和其他硬件）。这意味着您不需要使用 Xcode 或 Android Studio，也不需要编写任何本机代码，而且它还使得您的 pure-JS 项目非常便于携带，因为它可以在任何包含 Expo SDK 的本机环境中运行，方便开发及调试。</p>
<p>最后，你可以使用 Expo 托管应用，它可以为您提供推送通知，并且可以构建能部署到应用商店 ipa 包或者 apk 包。</p>
<p>更多资料，可以查看 <a href="https://docs.expo.io/versions/latest/">Expo 官方文档</a>。</p>
<blockquote>
<p><a href="https://expo.io/--/api/v2/versions">Expo 版本清单</a>，这里可以看到每个版本 Expo 对应的版本关系，这很重要。</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="为什么选择-expo"></a><a href="#为什么选择-expo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>为什么选择 Expo？</h3>
<p>从某种程度上而言，目前为止 RN 只是给拥有 Mac 电脑的开发者提供了跨平台开发的能力， 因为现在还不能使用 Windows 创建 iOS 的 RN 应用。还有一个比较普遍的问题是，有一些 iOS 程序员不会配置 Android 的编译环境，而一些 Android 程序员又搞不懂 XCode。而且，Taro 的使用者基本都是前端工程师，面对 iOS 和 Android 原生的库或者文件可能会不知所措。</p>
<p>我们希望 Taro 的使用者，即使完全没有 RN 开发经验，也能够从配环境开始 5 分钟实现 Hello Wolrd 的编写，并且只需要专注于基于 Taro 实现功能，不用再去配置烦人的 iOS、Android 编译环境，还可以用 Windows 开发 iOS 版的 RN 应用。而恰好 Expo 可以完美实现。</p>
<p>本质上，Expo 的移动客户端相当于一个壳，你只需关注 js 层面的开发即可。这点类似于 electron 或者小程序。</p>
<h2><a class="anchor" aria-hidden="true" id="准备工作"></a><a href="#准备工作" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>准备工作</h2>
<h4><a class="anchor" aria-hidden="true" id="ios-模拟器"></a><a href="#ios-模拟器" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>iOS 模拟器</h4>
<p>通过 Apple App Store 安装 <a href="https://itunes.apple.com/app/xcode/id497799835">Xcode</a>。这会需要一段时间，去小睡一下。接下来，打开 Xcode，转到 首选项（preferences） 并单击 Components 选项卡，从列表中安装一个模拟器。</p>
<p>首次启动模拟器可能需要手动在模拟器上安装 Expo 客户端，</p>
<p>您可以按照以下步骤操作：</p>
<ul>
<li>下载最新的模拟器构建。</li>
<li>提取存档的内容。你应该得到一个像 <code>Exponent-X.XX.X</code> 这样的目录。</li>
<li>确保模拟器正在运行。</li>
<li>在终端上，运行 <code>xcrun simctl install booted [提取目录的路径]</code>。</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/9441951/44649246-e6eb1000-aa15-11e8-849e-f4bc17eeccab.png" alt="image"></p>
<h4><a class="anchor" aria-hidden="true" id="android-模拟器"></a><a href="#android-模拟器" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Android 模拟器</h4>
<p><a href="https://www.genymotion.com/fun-zone/">下载 Genymotion</a>（免费版）并按照 <a href="https://docs.genymotion.com/Content/01_Get_Started/Installation.htm">Genymotion 安装指南</a>。安装 Genymotion 后，创建一个虚拟设备，准备好后启动虚拟设备。</p>
<p>如果遇到任何问题，请按照 Genymotion 指南进行操作。</p>
<h4><a class="anchor" aria-hidden="true" id="移动客户端-expo-适用于-ios-和-android"></a><a href="#移动客户端-expo-适用于-ios-和-android" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>移动客户端：Expo (适用于 iOS 和 Android)</h4>
<p>在模拟器或真机上安装 <a href="https://www.apkmonk.com/app/host.exp.exponent/">Expo 客户端 v2.9.2</a>。</p>
<p>expo 客户端就像是一个用 expo 建造的应用程序浏览器。当您在项目中启动时，<strong>它会为您生成一个开发地址及对应的二维码，您可以在 iOS 或 Android 上使用 expo 客户端上访问它</strong>，无论是使用真机上还是模拟器，原理和步骤都相同。</p>
<p><a href="https://play.google.com/store/apps/details?id=host.exp.exponent">Android Play Store 下载地址 ( 或者直接从各大应用商店搜索 )</a></p>
<p><a href="https://itunes.com/apps/exponent">iOS App Store 下载地址</a></p>
<blockquote>
<p><strong>版本支持:</strong> Android 4.4 及以上、 iOS 9.0 及以上</p>
</blockquote>
<p>更多资料可以查看 <a href="https://docs.expo.io/versions/v29.0.0/workflow/up-and-running">Expo 移动客户端文档</a></p>
<h4><a class="anchor" aria-hidden="true" id="看守者watchman"></a><a href="#看守者watchman" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>看守者(Watchman)</h4>
<p>如果一些 macOS 用户没有在他们的机器上安装它，会遇到问题，因此我们建议您安装 Watchman。 Watchman 在更改时观察文件和记录，然后触发相应的操作，并由 React Native 在内部使用。<a href="https://facebook.github.io/watchman/docs/install.html">下载并安装 Watchman</a>。</p>
<h2><a class="anchor" aria-hidden="true" id="开发"></a><a href="#开发" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>开发</h2>
<h3><a class="anchor" aria-hidden="true" id="编译"></a><a href="#编译" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>编译</h3>
<p>RN 编译预览模式:</p>
<pre><code class="hljs css language-shell"><span class="hljs-meta">#</span><span class="bash"> npm script</span>
<span class="hljs-meta">$</span><span class="bash"> npm run dev:rn</span>
<span class="hljs-meta">#</span><span class="bash"> 仅限全局安装</span>
<span class="hljs-meta">$</span><span class="bash"> taro build --<span class="hljs-built_in">type</span> rn --watch</span>
<span class="hljs-meta">#</span><span class="bash"> npx 用户也可以使用</span>
<span class="hljs-meta">$</span><span class="bash"> npx taro build --<span class="hljs-built_in">type</span> rn --watch</span>
</code></pre>
<p>Taro 将会开始编译文件：</p>
<pre><code class="hljs css language-shell">➜  TodoMVC git:(master) ✗ taro build --type rn --watch
👽 Taro v1.0.0-beta.15

开始编译项目 todo-list
编译  JS        /Users/chengshuai/Taro/TodoMVC/src/app.js
编译  SCSS      /Users/chengshuai/Taro/TodoMVC/src/app.scss
编译  JS        /Users/chengshuai/Taro/TodoMVC/src/actions/index.js
....
生成  app.json  /Users/chengshuai/Taro/TodoMVC/.temp/app.json
生成  package.json  /Users/chengshuai/Taro/TodoMVC/.temp/package.json
拷贝  crna-entry.js  /Users/chengshuai/Taro/TodoMVC/.temp/bin/crna-entry.js
编译  编译完成，花费 780 ms
17:12:59: Starting packager...

初始化完毕，监听文件修改中...
</code></pre>
<p>生成的应用文件在根目录的 <code>.rn_temp</code>目录下，常见的工程目录结构如下：</p>
<pre><code class="hljs">./<span class="hljs-selector-class">.rn_temp</span>
├── components
│   ├── Footer
│   ├── TodoItem
│   └── TodoTextInput
├── pages
│   └── index
│       ├── index<span class="hljs-selector-class">.js</span>
│       └── index<span class="hljs-selector-class">.scss</span>
├── node_modules
├── app<span class="hljs-selector-class">.js</span>
├── app_styles<span class="hljs-selector-class">.js</span>
├── app<span class="hljs-selector-class">.json</span>
├── README<span class="hljs-selector-class">.md</span>
├── package<span class="hljs-selector-class">.json</span>
└── yarn<span class="hljs-selector-class">.lock</span>
</code></pre>
<blockquote>
<p><strong>Note:</strong> If you are on MacOS and XDE gets stuck on &quot;Waiting for packager and tunnel to start&quot;, you may need to <a href="https://facebook.github.io/watchman/docs/install.html#build-install">install watchman on your machine</a>. The easiest way to do this is with <a href="http://brew.sh/">Homebrew</a>, <code>brew install watchman</code>.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="启动"></a><a href="#启动" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>启动</h3>
<p>如果编译过程没有报错，<code>Packager Started</code> 后，你将会看到以下内容：</p>
<p><img src="https://user-images.githubusercontent.com/9441951/45069323-89824d80-b0fe-11e8-86ae-2bbe532087de.png" alt="image"></p>
<p>接下来，你可以直接在终端输入对应的字母，来进行对应的操作：</p>
<ul>
<li>a : 打开安卓设备或安卓模拟器</li>
<li>i  : 打开 iOS 模拟器</li>
<li>s : 发送 app URL 到手机号或 email 地址</li>
<li>q : 显示二维码</li>
<li>r : 重启 packager</li>
<li>R : 重启 packager 并清空缓存</li>
<li>d : 开启 development 模式</li>
</ul>
<p>如果你使用真机，你只需要使用 Expo 应用扫描这个二维码就可以打开你编写的 RN 应用了。并且只要在 Expo 中打开过一次，就会在 App 中保留一个入口。</p>
<p>本质上，Expo 相当于一个壳，你只需关注 js 层面的开发即可。这点类似于 electron 或者小程序。</p>
<p>如果你在终端按下 <code>i</code>· ，Taro 将会自动启动 iOS 模拟器，启动 expo 客户端（如果已成功安装），然后加载应用。</p>
<p><img src="https://user-images.githubusercontent.com/497214/28835171-300a12b6-76ed-11e7-81b2-623639c3b8f6.png" alt="image"></p>
<p>终端将会显示日志：</p>
<pre><code class="hljs css language-shell">17:43:54: Starting iOS...

 › Press a to open Android device or emulator, or i to open iOS emulator.
 › Press s to send the app URL to your phone number or email address
 › Press q to display QR code.
 › Press r to restart packager, or R to restart packager and clear cache.
 › Press d to toggle development mode. (current mode: development)

17:44:05: Finished building JavaScript bundle in 492ms
</code></pre>
<p>反之，如果你在终端按下<code>a</code>，可能会出现如下错误：</p>
<p><img src="https://user-images.githubusercontent.com/9441951/49937712-9b9c3500-ff12-11e8-91f4-f48251973ce1.png" alt="image"></p>
<p>这个时候你需要手动启动安卓模拟器，然后再次按下 <code>a</code>。</p>
<p>如果 expo 客户端自动安装失败（由于众所周知的原因，这个概率还挺大），终端可能会报以下错误：</p>
<p><img src="https://user-images.githubusercontent.com/9441951/49936425-eae06680-ff0e-11e8-9597-8035101c2ba0.png" alt="image"></p>
<p>你需要下载 <a href="https://www.apkmonk.com/app/host.exp.exponent/">expo 客户端 v2.9.2</a>，拖拽进模拟器安装（或使用 <code>adb install XXX.apk</code>）的命令安装，然后再次按下 <code>a</code>，你就能看到应用的界面了。</p>
<h3><a class="anchor" aria-hidden="true" id="开发者菜单"></a><a href="#开发者菜单" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>开发者菜单</h3>
<p>一旦 app 在 expo 中成功打开，你可以通过摇一摇设备来唤起开发者菜单， 如果你是用模拟器，你可以按 <code>⌘+d</code> （iOS） 或 <code>ctrl+m</code> （Android）。</p>
<p><img src="https://docs.expo.io/static/images/developer-menu.png" alt="image"></p>
<p>更多资料可以查看<a href="https://docs.expo.io/versions/v29.0.0/workflow/up-and-running">Expo 文档——up-and-running</a>。</p>
<h2><a class="anchor" aria-hidden="true" id="调试"></a><a href="#调试" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>调试</h2>
<h3><a class="anchor" aria-hidden="true" id="简介-1"></a><a href="#简介-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>简介</h3>
<p>调试方面强烈推荐使用 <a href="https://github.com/jhen0409/react-native-debugger">React Native Debugger </a>，一个基于 React Native 官方调试方式、包含 React Inspector / Redux DevTools 独立应用：</p>
<ul>
<li>基于官方的 <a href="https://facebook.github.io/react-native/docs/debugging.html#chrome-developer-tools">Remote Debugger</a> 且提供了更为丰富的功能</li>
<li>包含 <a href="https://github.com/facebook/react-devtools/tree/master/packages/react-devtools-core"><code>react-devtools-core</code></a> 的 <a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/react-devtools-integration.md">React Inspector</a></li>
<li>包含 Redux DevTools, 且与 <a href="https://github.com/zalmoxisus/redux-devtools-extension"><code>redux-devtools-extension</code></a> 保持 <a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/redux-devtools-integration.md">API</a> 一致</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/3001525/29451479-6621bf1a-83c8-11e7-8ebb-b4e98b1af91c.png" alt="image"></p>
<p>可以查看文章 <a href="https://medium.com/@jimgbest/react-native-debugger-expo-awesome-d7a00da51460">React Native Debugger + Expo = AWESOME</a>，了解更多。</p>
<h3><a class="anchor" aria-hidden="true" id="安装"></a><a href="#安装" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>安装</h3>
<p>不同平台及版本的安装包，请点击 <a href="https://github.com/jhen0409/react-native-debugger/releases">这里</a> 。</p>
<p><strong>macOS</strong>平台可以使用 <a href="https://caskroom.github.io/">Homebrew Cask</a> 安装：</p>
<pre><code class="hljs css language-shell"><span class="hljs-meta">$</span><span class="bash"> brew update &amp;&amp; brew cask install react-native-debugger</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="启动-1"></a><a href="#启动-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>启动</h3>
<p>在启动 React Native Debugger 之前，请先确认以下内容：</p>
<ul>
<li>所有的 React Native 的 debugger 客户端已关闭，特别是 <code>http://localhost:&lt;port&gt;/debugger-ui</code></li>
<li>React Native Debugger 会尝试连接 debugger 代理， expo 默认使用 <code>19001</code> 端口， 你可以新建一个 debugger 窗口 (macOS: <code>Command+T</code>, Linux/Windows: <code>Ctrl+T</code>) 开定义端口</li>
<li>保证 <a href="https://facebook.github.io/react-native/docs/debugging.html#accessing-the-in-app-developer-menu">developer menu</a>  的  <code>Debug JS Remotely</code> 处于开启状态</li>
</ul>
<p>你可以启动应用之后再修改端口，也可以直接通过命令行启动应用时指定端口：</p>
<pre><code class="hljs css language-shell">open "rndebugger://set-debugger-loc?host=localhost&amp;port=19001"
</code></pre>
<blockquote>
<p>如果启动之后调试窗口空白，请确认调试端口正确。</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="使用-redux-devtools-extension-api"></a><a href="#使用-redux-devtools-extension-api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>使用 Redux DevTools Extension API</h3>
<p>Use the same API as <a href="https://github.com/zalmoxisus/redux-devtools-extension#1-with-redux"><code>redux-devtools-extension</code></a> is very simple:</p>
<pre><code class="hljs css language-jsx"><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>
  reducer<span class="token punctuation">,</span> <span class="token comment">/* preloadedState, */</span>
  window<span class="token punctuation">.</span>__REDUX_DEVTOOLS_EXTENSION__ <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span><span class="token function">__REDUX_DEVTOOLS_EXTENSION__</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre>
<p>See <a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/redux-devtools-integration.md"><code>Redux DevTools Integration</code></a> section for more information.</p>
<h3><a class="anchor" aria-hidden="true" id="更多资料"></a><a href="#更多资料" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>更多资料</h3>
<ul>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/getting-started.md">快速开始</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/debugger-integration.md">Debugger 整合</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/react-devtools-integration.md">React DevTools 整合</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/redux-devtools-integration.md">Redux DevTools 整合</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/shortcut-references.md">Shortcut references</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/network-inspect-of-chrome-devtools.md">Network inspect of Chrome Developer Tools</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/enable-open-in-editor-in-console.md">Enable open in editor in console</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/troubleshooting.md">Troubleshooting</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/contributing.md">Contributing</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="构建独立应用程序"></a><a href="#构建独立应用程序" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>构建独立应用程序</h2>
<blockquote>
<p>下面的文档是使用 Expo 的线上服务来帮助你构建独立应用程序，使用这种方式可以避免在本机上配置应用构建环境。当然，你也可以使用自己的电脑构建应用，文档请参考：<a href="https://docs.expo.io/versions/v31.0.0/distribution/turtle-cli">Building Standalone Apps on Your CI</a></p>
</blockquote>
<p>如何愉快地打包发布，可能你还在头疼安卓的签名、难缠的 gradle 和各种配置，还在头疼 iOS 打包发布时在 Xcode 来回折腾，为什么不能脱离这些原生开发才需要的步骤呢，ReactNative 本身就是为了统一安卓和 iOS，如今到打包这一步却要区别对待，颇为不妥，expo 就是个很好的解决方案，它提供壳子，我们只需要关心我们自己的代码，然后放进壳里即可。</p>
<p>接下来的步骤将会帮助你为 iOS 和 Android 创建 Expo 应用程序的独立二进制文件，并将其提交到 Apple App Store 和 Google Play Store。</p>
<p>构建iOS独立应用程序需要Apple Developer帐户，但构建Android独立应用程序不需要Google Play Developer帐户。如果您想要提交到任一应用商店，您将需要该商店的开发者帐户。</p>
<p>在打包发布步骤之前，我们先对开发者的源代码进行预处理，将 Taro 代码转成 React Native 代码：</p>
<pre><code class="hljs css language-bash">taro build --type rn
</code></pre>
<p>然后 .rn_temp 目录 （如果你没有修改）下会生成转换后的 React Native 代码。</p>
<h3><a class="anchor" aria-hidden="true" id="安装expo-cli"></a><a href="#安装expo-cli" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>安装Expo CLI</h3>
<p>Expo CLI 是开发和构建 Expo 应用程序的工具，运行 <code>npm install -g expo-cli</code> 即可安装。</p>
<p>如果您之前没有创建过 Expo 帐户，则会在运行 build 命令时要求您创建一个。</p>
<h3><a class="anchor" aria-hidden="true" id="配置appjson"></a><a href="#配置appjson" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>配置app.json</h3>
<p>在 config 目录配置，如：</p>
<pre><code class="hljs css language-json">rn<span class="token operator">:</span> <span class="token punctuation">{</span>
    appJson<span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token property">"expo"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Your App Name"</span><span class="token punctuation">,</span>
        <span class="token property">"icon"</span><span class="token operator">:</span> <span class="token string">"./path/to/your/app-icon.png"</span><span class="token punctuation">,</span>
        <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
        <span class="token property">"slug"</span><span class="token operator">:</span> <span class="token string">"your-app-slug"</span><span class="token punctuation">,</span>
        <span class="token property">"sdkVersion"</span><span class="token operator">:</span> <span class="token string">"XX.0.0"</span><span class="token punctuation">,</span>
        <span class="token property">"ios"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"bundleIdentifier"</span><span class="token operator">:</span> <span class="token string">"com.yourcompany.yourappname"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"android"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"package"</span><span class="token operator">:</span> <span class="token string">"com.yourcompany.yourappname"</span>
        <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre>
<p>Taro 会读取 appJson 字段的内容且自动覆盖到 .rn_temp/app.json。</p>
<ul>
<li>iOS bundleIdentifier 和 Android package 字段使用反向 DNS 表示法，但不必与域相关。替换 &quot;com.yourcompany.yourappname&quot; 为您的应用程序有意义的任何内容。</li>
<li>你可能并不感到惊讶 name，icon 并且 version 是必需的。</li>
<li>slug是您的应用程序的 JavaScript 发布到的网址名称。例如：<a href="http://expo.io/@community/native-component-list">expo.io/@community/native-component-list</a>，community 我的用户名在哪里，native-component-list 是 slug。</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="开始构建"></a><a href="#开始构建" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>开始构建</h3>
<p>运行 <code>expo build:android</code>或 <code>expo build:ios</code>。如果你还没有为此项目运行的打包程序，exp 则会为你启动一个打包程序。</p>
<h4><a class="anchor" aria-hidden="true" id="android-应用构建"></a><a href="#android-应用构建" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Android 应用构建</h4>
<p>第一次构建项目时，系统会询问您是否要上传密钥库。如果你不知道密钥库是什么，你可以让 expo 生成一个，或者你也可以上传自己的。</p>
<pre><code class="hljs css language-shell">➜  .rn_temp git:(master) ✗ expo build:android
[19:23:07] Making sure project is set up correctly...
[19:23:11] Your project looks good!
[19:23:13] Checking if current build exists...

[19:23:14] No currently active or previous builds for this project.

? Would you like to upload a keystore or have us generate one for you?
If you don't know what this means, let us handle it! :)

  1) Let Expo handle the process!
  2) I want to upload my own keystore!
  Answer:
</code></pre>
<p>如果您选择让 Expo 为您生成密钥库，我们强烈建议您稍后运行 <code>expo fetch:android:keystore</code> 并将密钥库备份到安全位置。将应用程序提交到 Google Play 商店后，该应用的所有未来更新都必须使用相同的密钥库进行签名才能被 Google 接受。如果您出于任何原因，将来删除项目或清除凭据，如果您尚未备份密钥库，则无法向应用程序提交任何更新。</p>
<p>您可能还想添加其他选项 app.json。我们只涵盖了所需要的内容。例如，有些人喜欢配置自己的内部版本号，链接方案等。我们强烈建议你阅读<a href="https://docs.expo.io/versions/latest/workflow/configuration.html">使用 app.json配置</a> 完整规范。</p>
<h4><a class="anchor" aria-hidden="true" id="ios-应用构建"></a><a href="#ios-应用构建" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>iOS 应用构建</h4>
<p>您可以选择让 exp 客户为你创建必要的凭据，同时仍然有机会提供您自己的覆盖。你的 Apple ID 和密码在本地使用，从未保存在 Expo 的服务器上。</p>
<pre><code class="hljs css language-shell">[exp] Making sure project is set up correctly...
[exp] Your project looks good!
[exp] Checking if current build exists...

[exp] No currently active or previous builds for this project.
? How would you like to upload your credentials?
 (Use arrow keys)
❯ Expo handles all credentials, you can still provide overrides
  I will provide all the credentials and files needed, Expo does no validation
</code></pre>
<p>expo 会问你是否希望其处理你的分发证书或使用你自己的分发证书。这个与 Android 密钥库类似，如果你不知道分发证书是什么，那就让 expo 为你处理。如果你确实需要上传自己的证书，我们建议您遵循这篇 <a href="https://calvium.com/how-to-make-a-p12-file/">关于制作p12文件的优秀指南</a>。</p>
<blockquote>
<p>注意：本指南建议将 p12 的密码留空，但需要使用 p12 密码将自己的证书上传到 Expo 的服务中。请在出现提示时输入密码。</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="等待构建完成"></a><a href="#等待构建完成" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>等待构建完成</h3>
<p>在构建过程中，你可能会看到一下的日志：</p>
<pre><code class="hljs css language-shell">[19:44:31] No currently active or previous builds for this project.
[19:44:33] Unable to find an existing Expo CLI instance for this directory, starting a new one...
[19:44:36] Starting Metro Bundler on port 19001.
[19:44:36] Metro Bundler ready.
[19:44:46] Tunnel ready.
[19:44:46] Publishing to channel 'default'...
[19:44:48] Building iOS bundle
[19:45:00] Building Android bundle
Building JavaScript bundle [===========================================] 100%[19:45:00] Finished building JavaScript bundle in 11492ms.
[19:45:11] Finished building JavaScript bundle in 10893ms.
[19:45:11] Analyzing assets
[19:45:20] Finished building JavaScript bundle in 9205ms.
[19:45:29] Uploading assets
Building JavaScript bundle [===========================================] 100%[19:45:29] Finished building JavaScript bundle in 8816ms.
[19:45:30] No assets changed, skipped.
[19:45:30] Processing asset bundle patterns:
[19:45:30] - /Users/chengshuai/Taro/taro-demo/.rn_temp/**/*
[19:45:30] Uploading JavaScript bundles
[19:45:44] Published
[19:45:44] Your URL is

https://exp.host/@pinescheng/tarodemo

[19:45:46] Building...
[19:45:47] Build started, it may take a few minutes to complete.
[19:45:47] You can check the queue length at
 https://expo.io/turtle-status

[19:45:47] You can monitor the build at

 https://expo.io/builds/78bd39e8-9c5c-4301-90e9-5546d2d2871b

|[19:45:47] Waiting for build to complete. You can press Ctrl+C to exit.
[19:56:57] Successfully built standalone app: https://expo.io/artifacts/3e4f6d43-7a3a-4383-964b-8355593b742d
</code></pre>
<p>当 expo 开始构建您的应用程序。您可以查看您在 <a href="https://expo.io/turtle-status">Turtle</a> 状态站点上等待的时间。expo 将打印您可以访问的网址（例如expo.io/builds/some-unique-id）以查看你的构建日志。或者，你可以通过运行 <code>expo build:status</code> 来检查它。完成后，您将看到 .apk（Android）或.ipa（iOS）文件的网址。这是就是你的应用，你可以将链接复制并粘贴到浏览器中下载文件。</p>
<p>详细的打包教程可以查阅 expo 文档：<a href="https://docs.expo.io/versions/latest/distribution/building-standalone-apps">Building Standalone Apps</a>。</p>
<h3><a class="anchor" aria-hidden="true" id="在您的设备或模拟器上进行测试"></a><a href="#在您的设备或模拟器上进行测试" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>在您的设备或模拟器上进行测试</h3>
<ul>
<li>您可以将其拖放.apk到Android模拟器中。这是测试构建成功的最简单方法。但这并不是最令人满意的。</li>
<li>要在 Android 设备上运行它，请确保您有一起安装 Android 平台的工具 adb，然后只需运行 <code>adb install app-filename.apk</code> 与您的设备上启用了 USB 调试和插入的设备。</li>
<li>要在 iOS 模拟器上运行它，首先通过运行使用模拟器标志构建您的 expo 项目 <code>expo build:ios -t simulator</code>，然后在运行时下载完成时给出的链接的 <code>tarball expo build:status</code>。通过运行解压缩 tar.gz 的 <code>tar -xvzf your-app.tar.gz</code>。然后你就可以通过启动 iPhone 模拟器实例，然后运行运行 <code>xcrun simctl install booted &lt;app path&gt;</code> 和 <code>xcrun simctl launch booted &lt;app identifier&gt;</code>。</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="发布"></a><a href="#发布" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>发布</h2>
<h3><a class="anchor" aria-hidden="true" id="发布到-expo"></a><a href="#发布到-expo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>发布到 expo</h3>
<p>expo 的发布教程可以查阅文档：<a href="https://docs.expo.io/versions/latest/guides/publishing.html">Publishing</a>（发布到 expo 不需要先经过打包），通过 expo 客户端打开发布后的应用 CDN 链接来访问。</p>
<p><img src="http://storage.360buyimg.com/temporary/180906-fetch-app-production.png" alt="通过 expo 打开一个 app"></p>
<p>发布后的应用有个专属的地址，比如应用 <a href="https://expo.io/@community/native-component-list">Expo APIs</a>，通过 expo 客户端扫描页面中的二维码进行访问（二维码是个持久化地址 persistent URL）。</p>
<h3><a class="anchor" aria-hidden="true" id="发布到应用商店"></a><a href="#发布到应用商店" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>发布到应用商店</h3>
<p>如果你需要正式发布你的独立版应用，可以把打包所得的 ipa 和 apk 发布到 Apple Store 和应用市场，详细参阅 <a href="https://docs.expo.io/versions/latest/distribution/index.html">Distributing Your App</a>，后续的更新可以通过发布到 expo 更新 CDN 的资源来实现。</p>
<h2><a class="anchor" aria-hidden="true" id="更新"></a><a href="#更新" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>更新</h2>
<h3><a class="anchor" aria-hidden="true" id="自动更新"></a><a href="#自动更新" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>自动更新</h3>
<p>默认情况下，Expo会在您的应用启动时自动检查更新，并尝试获取最新发布的版本。如果有新的捆绑包，Expo将在启动体验之前尝试下载它。如果没有可用的网络连接，或者在30秒内没有完成下载，Expo将回退到加载应用程序的缓存版本，并继续尝试在后台获取更新（此时它将保存到下一个应用程序加载的缓存）。</p>
<p>在大多数情况下，当您想要更新应用程序时，只需从 Expo CLI 再次发布。您的用户将在下次打开应用程序时下载新的 JS。为确保您的用户能够无缝下载 JS 更新，您可能希望启用 <a href="https://docs.expo.io/versions/v31.0.0/guides/offline-support.html">后台 JS 下载</a>。但是，有几个原因可能导致您需要重建并重新提交本机二进制文件：</p>
<ul>
<li>如果要更改应用程序名称或图标等本机元数据</li>
<li>如果您升级到较新 sdkVersion 的应用程序（需要新的本机代码）</li>
</ul>
<p>要跟踪这一点，您还可以更新二进制文件的 <a href="https://docs.expo.io/versions/v31.0.0/workflow/configuration.html#versioncode">versionCode</a> 和 <a href="https://docs.expo.io/versions/v31.0.0/workflow/configuration.html#buildnumber">buildNumber</a>。浏览 <a href="https://docs.expo.io/versions/v31.0.0/workflow/configuration.html">app.json 文档</a> 以了解您可以更改的所有属性是一个好主意，例如图标，深层链接 URL 方案，手机/平板电脑支持等等。</p>
<h3><a class="anchor" aria-hidden="true" id="禁用更新"></a><a href="#禁用更新" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>禁用更新</h3>
<p>通过在app.json中设置，updates.enabled可以false在独立应用程序中完全禁用OTA JavaScript更新。这将忽略从Expo服务器获取应用程序包的所有代码路径。在这种情况下，您的应用的所有更新都需要通过iOS App Store和/或Google Play商店进行路由。</p>
<h2><a class="anchor" aria-hidden="true" id="常见错误"></a><a href="#常见错误" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>常见错误</h2>
<h3><a class="anchor" aria-hidden="true" id="no-bundle-url-present"></a><a href="#no-bundle-url-present" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>No bundle url present</h3>
<p>导致这个报错的原因很多，最常见的是电脑开了代理。具体可以参考 <a href="https://github.com/facebook/react-native/issues/12754">#12754</a></p>
<h3><a class="anchor" aria-hidden="true" id="unabletoresolveerror-unable-to-resolve-module-accessibilityinfo"></a><a href="#unabletoresolveerror-unable-to-resolve-module-accessibilityinfo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>UnableToResolveError: Unable to resolve module <code>AccessibilityInfo</code></h3>
<p>原因很多，我这边是重启电脑就好了😂。 具体可以查看 <a href="https://github.com/facebook/react-native/issues/14209">#14209</a></p>
<h3><a class="anchor" aria-hidden="true" id="metro-bundler-error-expected-path-to-be-relative-to-one-of-the-project-roots"></a><a href="#metro-bundler-error-expected-path-to-be-relative-to-one-of-the-project-roots" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Metro Bundler error: Expected path […] to be relative to one of the project roots</h3>
<p>不支持 <code>npm link</code>，可以使用<a href="https://github.com/nicojs/node-install-local">nicojs/node-install-local</a> 替代。</p>
<h3><a class="anchor" aria-hidden="true" id="image-component-does-not-resolve-images-with-filenames-that-include-symbol"></a><a href="#image-component-does-not-resolve-images-with-filenames-that-include-symbol" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Image component does not resolve images with filenames that include '@' symbol</h3>
<p><img src="https://user-images.githubusercontent.com/22125059/44312799-373dee80-a3d4-11e8-8367-9cf44e851739.PNG" alt="image"></p>
<p>React Native 不支持路径中带 @ 符号，具体可以查看 <a href="https://github.com/facebook/react-native/issues/14980">#14980</a>。</p>
<h3><a class="anchor" aria-hidden="true" id="the-development-server-returned-response-error-code-500"></a><a href="#the-development-server-returned-response-error-code-500" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The development server returned response error code 500</h3>
<p><img src="https://user-images.githubusercontent.com/25324938/41452372-42c1e766-708f-11e8-96ce-323eaa1eb03f.jpeg" alt="image">
多半是依赖的问题，进入 <code>.rn_temp/</code>目录，然后删除 npm 依赖，在重新安装就可以了。
也可以试一下以下命令：</p>
<pre><code class="hljs css language-shell">watchman watch-del-all 
rm -rf node_modules &amp;&amp; npm install 
rm -fr $TMPDIR/react-*
</code></pre>
<p>具体可以参考 <a href="https://github.com/expo/expo/issues/1282">#1282</a></p>
<h3><a class="anchor" aria-hidden="true" id="expo-client-app-加载阻塞-building-javascript-bundle-100"></a><a href="#expo-client-app-加载阻塞-building-javascript-bundle-100" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Expo client app 加载阻塞： &quot;Building JavaScript bundle... 100%&quot;</h3>
<p><img src="https://user-images.githubusercontent.com/9441951/47762170-7bb00980-dcf6-11e8-95ab-41152076c3de.png" alt="image"></p>
<p>可能的原因很多，可以参考这个issue：<a href="https://github.com/react-community/create-react-native-app/issues/392">react-community/create-react-native-app#392</a></p>
<h2><a class="anchor" aria-hidden="true" id="参考"></a><a href="#参考" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>参考</h2>
<ul>
<li><a href="https://docs.expo.io/versions/latest/">expo 官方文档</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger">React Native Debugger </a></li>
<li><a href="https://docs.expo.io/versions/latest/distribution/building-standalone-apps">Building Standalone Apps</a></li>
<li><a href="https://blog.expo.io/publishing-on-exponent-790493660d24">Publishing on Expo</a></li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/taro/docs/relations.html"><span class="arrow-prev">← </span><span>小程序原生作用域获取</span></a><a class="docs-next button" href="/taro/docs/ui-lib.html"><span>基于 Taro 开发第三方多端 UI 库</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#简介">简介</a><ul class="toc-headings"><li><a href="#expo-简介">Expo 简介</a></li><li><a href="#为什么选择-expo">为什么选择 Expo？</a></li></ul></li><li><a href="#准备工作">准备工作</a></li><li><a href="#开发">开发</a><ul class="toc-headings"><li><a href="#编译">编译</a></li><li><a href="#启动">启动</a></li><li><a href="#开发者菜单">开发者菜单</a></li></ul></li><li><a href="#调试">调试</a><ul class="toc-headings"><li><a href="#简介-1">简介</a></li><li><a href="#安装">安装</a></li><li><a href="#启动-1">启动</a></li><li><a href="#使用-redux-devtools-extension-api">使用 Redux DevTools Extension API</a></li><li><a href="#更多资料">更多资料</a></li></ul></li><li><a href="#构建独立应用程序">构建独立应用程序</a><ul class="toc-headings"><li><a href="#安装expo-cli">安装Expo CLI</a></li><li><a href="#配置appjson">配置app.json</a></li><li><a href="#开始构建">开始构建</a></li><li><a href="#等待构建完成">等待构建完成</a></li><li><a href="#在您的设备或模拟器上进行测试">在您的设备或模拟器上进行测试</a></li></ul></li><li><a href="#发布">发布</a><ul class="toc-headings"><li><a href="#发布到-expo">发布到 expo</a></li><li><a href="#发布到应用商店">发布到应用商店</a></li></ul></li><li><a href="#更新">更新</a><ul class="toc-headings"><li><a href="#自动更新">自动更新</a></li><li><a href="#禁用更新">禁用更新</a></li></ul></li><li><a href="#常见错误">常见错误</a><ul class="toc-headings"><li><a href="#no-bundle-url-present">No bundle url present</a></li><li><a href="#unabletoresolveerror-unable-to-resolve-module-accessibilityinfo">UnableToResolveError: Unable to resolve module <code>AccessibilityInfo</code></a></li><li><a href="#metro-bundler-error-expected-path-to-be-relative-to-one-of-the-project-roots">Metro Bundler error: Expected path […] to be relative to one of the project roots</a></li><li><a href="#image-component-does-not-resolve-images-with-filenames-that-include-symbol">Image component does not resolve images with filenames that include '@' symbol</a></li><li><a href="#the-development-server-returned-response-error-code-500">The development server returned response error code 500</a></li><li><a href="#expo-client-app-加载阻塞-building-javascript-bundle-100">Expo client app 加载阻塞： &quot;Building JavaScript bundle... 100%&quot;</a></li></ul></li><li><a href="#参考">参考</a></li></ul></nav></div><footer class="footer" id="footer"><div class="footer-container"><div class="footer-logo-container"><div class="footer-logo"></div></div><div class="footer-link-container"><div class="footer-link"><h3>相关资源</h3><p><a class="link" href="https://taro.aotu.io/">Taro</a> - 多端解决方案</p><p><a class="link" href="https://nerv.aotu.io/">Nerv</a> - 类 React 框架</p><p><a class="link" href="https://athena.aotu.io/">Athena</a> - O2 前端流程工具</p><p><a class="link" href="https://at.aotu.io/">AT-UI</a> - Vue 组件库</p></div><div class="footer-link"><h3>社区</h3><p><a href="https://github.com/NervJS/taro/issues">反馈建议</a></p><p><a href="https://github.com/NervJS/taro">GitHub</a></p></div><div class="footer-link"><h3>关于我们</h3><p><a href="https://aotu.io/">凹凸实验室</a></p></div></div></div></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '57b9948bff42bc0dbc6c219556fbae35',
                indexName: 'taro',
                inputSelector: '#search_input_react'
              });
            </script></body></html>